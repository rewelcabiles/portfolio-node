<!DOCTYPE html>
<html lang="en">
<head>
    
</head>
<body>
    <div class="flex flex-row overflow-hidden h-screen w-screen">
        <div class="w-32 h-screen top-0  flex-col justify-center items-center hidden md:flex" >
            <a class="text-center w-full text-sm py-4 px-6 h-12 overflow-hidden text-gray-500 text-ellipsis whitespace-nowrap  hover:text-gray-100 hover:bg-gray-400 transition duration-300 ease-in-out" href="#tags">
                Tags
            </a>
            <a class="text-center w-full text-sm py-4 px-6 h-12 overflow-hidden text-gray-500 text-ellipsis whitespace-nowrap  hover:text-gray-100 hover:bg-gray-400 transition duration-300 ease-in-out" href="#projects">
                Projects
            </a>
        </div>
        
        <div class="w-full px-10 xl:px-36 overflow-y-scroll scroll-smooth" >
            <div class="flex flex-row pt-32 mb-10" id="tags">
                <hr class="my-auto z-0 w-full border-black hidden md:block">
                <p class="lg:px-20 text-5xl lg:text-5xl min-w-max font-extralight md:tracking-wide mx-auto">MY PROJECTS </p>
                <hr class="my-auto z-0 w-full border-black hidden md:block">
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-5 gap-4 col-span-2 2xl:mx-52 drop-shadow-md">
                <button class="rounded-md border-2 border-slate-900 p-1 hover:text-white hover:bg-slate-800 bg-slate-50 text-black transition ease-in" onclick="tagClicked('All')">
                    All
                </button>
                <% tags.forEach(tag => { %>
                    <button class="rounded-md border-2 border-slate-900 p-1 hover:text-black hover:bg-slate-50 bg-slate-800 text-white transition ease-in" onclick="tagClicked('<%= tag %>')">
                        <%= tag %>
                    </button>
                <% }) %>
            </div>
            <hr class="mt-20 mb-5 border-black" id="projects">
            <div class="container flex mb-10">
                <button class="mx-auto text-lg" title="Click a tag above to filter!" id="tag_show">
                    <span class="text-yellow-400 mr-1"> &#8505;  </span>    Showing All
                </button>
            </div>
            <!-- Check if user -->
            <% if (locals.user) { %>
                <div class="mb-10 lg:mx-52 flex">
                    <a href="add" class="text-center w-full rounded-md bg-green-600 py-2 font-bold hover:bg-green-500 transition ease-linear text-white">Add New Project</a>
                </div>
            <% } %>
            <div class="mb-20 lg:mx-48 rounded-2xl shadow-2xl bg-slate-100" id="projects_container">
                <% all_projects.forEach(project => { %>
                        <div id=<%= project.safe_name %> >
                            <div class="bg-white grid grid-cols-1 rounded-lg border-2 border-white p-4 hover:border-slate-900 transition ease-in-out lg:grid-cols-12 gap-9">
                                <div class="flex flex-col lg:col-span-8">
                                    <div class="flex flex-row">
                                        <div class="flex flex-row">
                                            <a href="view/<%= project.safe_name %>" class="text-2xl font-bold">
                                                <%= project.name %>
                                            </a>
                                            <!--Check if user is logged in-->
                                            <% if (locals.user) { %>
                                                <a href="#" class="text-green-500 p-1">Edit</a>
                                                <a href="delete/<%= project.safe_name %> " class="text-red-500 p-1">Delete</a>
                                            <% } %>
                                        </div>
                                        <a target="_blank" href="<%= project.projectLink %>" class="ml-auto text-lg"> <i class=" bi bi-github"></i> Github Link </a>
                                    </div>
                                    <p class="text-md pt-6 text-justify">
                                        <%= project.description %>
                                    </p>
                                </div>
                                <div class="ml-auto lg:col-span-4 w-full mx-auto">
                                    <img class="object-cover w-full max-h-96 rounded-md border-2 border-gray-900 "  src="/projects/<%= project.banner %>" alt="">
                                </div>
                            </div>
                            <hr class="mb-5 mt-5">
                        </div>
                <% }) %>
    
            </div>
        </div>
    </div>
    <script src="/js/projects.js"></script>
</body>
</html>